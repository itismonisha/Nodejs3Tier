(()=>{function e(){fetch("/api/users").then((function(e){return e.json()})).then((function(e){var t=document.getElementById("userList");t.innerHTML="",e.forEach((function(e){var n=document.createElement("li");n.innerHTML="\n          ".concat(e.name," (").concat(e.email,") - ").concat(e.role,'\n          <button class="edit" data-id="').concat(e.id,'">Edit</button>\n          <button class="delete" data-id="').concat(e.id,'">Delete</button>\n        '),t.appendChild(n)}))})).catch((function(e){console.error("Error fetching users:",e)}))}document.addEventListener("DOMContentLoaded",(function(){e(),document.getElementById("addUserForm").addEventListener("submit",(function(t){t.preventDefault();var n=document.getElementById("name").value,o=document.getElementById("email").value,r=document.getElementById("role").value;fetch("/api/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:n,email:o,role:r})}).then((function(e){return e.json()})).then((function(t){console.log("Success:",t),e()})).catch((function(e){console.error("Error:",e)}))})),document.getElementById("userList").addEventListener("click",(function(t){if(t.target.classList.contains("edit")){var n=t.target.getAttribute("data-id"),o=prompt("Enter new name:"),r=prompt("Enter new email:"),c=prompt("Enter new role (User/Admin):");o&&r&&c&&fetch("/api/users/".concat(n),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:o,email:r,role:c})}).then((function(e){return e.json()})).then((function(t){console.log("Updated:",t),e()})).catch((function(e){console.error("Error:",e)}))}if(t.target.classList.contains("delete")){var a=t.target.getAttribute("data-id");confirm("Are you sure you want to delete this user?")&&fetch("/api/users/".concat(a),{method:"DELETE"}).then((function(e){return e.json()})).then((function(t){console.log("Deleted:",t),e()})).catch((function(e){console.error("Error:",e)}))}}))}))})();